const app = document.getElementById('app');

let players = [];
let currentPlayerIndex = 0;
const questionsPerPlayer = 25; // ูุฐุง ููุญุณุงุจ ููุท ูุง ูุณุชุฎุฏูู ุจุดูู ูุจุงุดุฑ

// ุฃุณุฆูุฉ ุงููุซุงู
const questions = [
  "ูุง ูู ุฃูุซุฑ ุดูุก ุชุฎุงู ูููุ",
  "ูุง ูู ุฃุฌูู ุฐูุฑู ูุฏููุ",
  "ูู ุณุจู ููุฐุจุช ุนูู ุตุฏููุ",
  "ูุง ูู ุณุฑ ูุง ุชุนุฑูู ุฃู ุฃุญุฏุ",
  "ูู ูู ุงูุดุฎุต ุงูุฐู ุชุซู ุจู ุฃูุซุฑุ",
  "ูู ุชุญุจ ุงูููุงุฌุขุชุ",
  "ูุง ูู ุฃูุซุฑ ุดูุก ุชุญุจู ูู ููุณูุ",
  "ูุง ูู ุฃุณูุฃ ุนูุจ ูุฏููุ",
  "ูู ุณุจู ูุญุณุฏุช ุฃุญุฏูุงุ",
  "ูุง ูู ุญููู ุงูุฃูุจุฑุ",
  "ูุง ูู ุฃูุซุฑ ุดูุก ูุฌุนูู ุณุนูุฏุ",
  "ูู ุชูุถู ุงูุนุฒูุฉ ุฃู ุงูุตุญุจุฉุ",
  "ูู ุณุจู ูุฎุณุฑุช ุตุฏูู ุจุณุจุจ ูููุฉุ",
  "ูุง ูู ุทุฑููุชู ููุชุนุงูู ูุน ุงูุบุถุจุ",
  "ูู ุชุญุจ ุงููุบุงูุฑุงุชุ",
  "ูุง ูู ุฃูุถู ุดูุก ุญุฏุซ ูู ูุฐุง ุงูุฃุณุจูุนุ",
  "ูู ุชุคูู ุจุงูุญุจ ูู ุฃูู ูุธุฑุฉุ",
  "ูุง ูู ุงูุดูุก ุงูุฐู ุชุชููู ุชุบููุฑู ูู ุญูุงุชูุ",
  "ูู ุชูุถู ุงูุนูู ููุญุฏู ุฃู ุถูู ูุฑููุ",
  "ูุง ูู ุฃูุซุฑ ุดูุก ุชูุฏู ุนูููุ",
  "ูู ุชุฎุงู ูู ุงููุดูุ",
  "ูุง ูู ุงูุดูุก ุงูุฐู ูุฌุนูู ุชุดุนุฑ ุจุงูุฑุงุญุฉุ",
  "ูู ุณุจู ูููุฏุช ุดูุฆูุง ููููุงุ",
  "ูุง ูู ุฃูุจุฑ ูุตูุญุฉ ุชูููุชูุงุ",
  "ูุง ูู ุงูุดูุก ุงูุฐู ูููุฒู ุนู ุงูุขุฎุฑููุ",
  "ูู ุชุญุจ ุงูููุงุฌุขุชุ",
  "ูุง ูู ุงูุดูุก ุงูุฐู ุชูุฑูู ูู ููุณูุ",
  "ูู ุณุจู ููุฏูุช ุนูู ุดูุก ูุนูุชูุ",
  "ูุง ูู ุฃุณูุฃ ูุฐุจุฉ ุณูุนุชูุงุ",
  "ูุง ูู ุฃุฌูู ูููู ุญุตู ูุนู ูู ุญูุงุชูุ",
  "ูู ุณุจู ูุฃุญุจุจุช ุดุฎุตูุง ูู ุงูุณุฑุ",
  "ูุง ุงูุดูุก ุงูุฐู ุชุฎุงู ุฃู ูุฎุณุฑู ููู ุงููุงุณุ",
"ูู ุชูุฏู ุนูู ูุฑุงุฑ ุงุชุฎุฐุชู ูุคุฎุฑูุงุ",
" ูุง ุฃูุซุฑ ุตูุฉ ุชุญุจูุง ูู ููุณูุ",
" ูู ุชุคูู ุจุงูุญุจ ูู ุฃูู ูุธุฑุฉุ",
" ูุง ูู ุฃูุซุฑ ุณุฑ ุชุญุชูุธ ุจู ุญุชู ุงูุขูุ",
" ูู ุณุจู ูุฃู ูุณุฑุช ููุจ ุฃุญุฏููุ",
" ูุง ูู ุงูุดูุก ุงูุฐู ูุฌุนูู ุชุจุชุณู ููุฑูุงุ",
"ูู ุชุฎุงู ูู ุงููุดูุ",
" ูุง ุฃุฌูู ููุงู ุฒุฑุชู ูู ุญูุงุชูุ",
"ูู ุชุญุจ ุฃู ุชููู ูุญุท ุฃูุธุงุฑ ุงูุขุฎุฑููุ",
" ูุง ุฃูุซุฑ ุดูุก ูุฌุนูู ุชุบุถุจ ุจุณุฑุนุฉุ",
" ูู ูุฏูู ุญูู ุชุชููู ุชุญููููุ",
". ูุง ูู ุฃูุซุฑ ุดูุก ุชุญุจู ูู ุฃุตุฏูุงุฆูุ",
" ูู ุฃูุช ุดุฎุต ุตุจูุฑ ุฃู ุณุฑูุน ุงูุบุถุจุ",
" ูุง ุฃุบุฑุจ ุนุงุฏุฉ ุชููู ุจูุงุ",
" ูู ุชูุถู ุงููุญุฏุฉ ุฃู ุงูุตุญุจุฉุ",
" ูุง ูู ูููู ูุญุฑุฌ ูุง ุชูุณุงูุ",
" ูู ุชูุถู ุฃู ุชุนูุด ูู ุงููุงุถู ุฃู ุงููุณุชูุจูุ",
" ูุง ูู ุฃูุถู ูุตูุญุฉ ุญุตูุช ุนูููุงุ",
" ูู ุชุณุชุทูุน ุฃู ุชุณุงูุญ ุจุณูููุฉุ",
"ูุง ุงูุดูุก ุงูุฐู ูุง ููููู ุงูุชูุงุฒู ุนูู ูู ุญูุงุชูุ",
"ูู ุชุคูู ุฃู ุงูุฅูุณุงู ูุชุบูุฑุ",
" ูุง ูู ุฃูุซุฑ ูุญุธุฉ ุดุนุฑุช ูููุง ุจุงูุณุนุงุฏุฉุ",
" ูู ุชุฎุงู ูู ุงููุฌูููุ",
"ูุง ูู ุฃูุซุฑ ุดูุก ุชุนููุชู ูู ุชุฌุฑุจุฉ ูุงุดูุฉุ",
" ูู ุณุจู ูุฃู ุญููุช ุญูููุง ุชุญููุ",
"ูุง ุงูุดูุก ุงูุฐู ุชุชููู ุฃู ุชูุนูู ููู ุชูุนู ุจุนุฏุ",
"ูู ุชูุฏ ุฃู ุชุบูุฑ ุดูุก ูู ุดุฎุตูุชูุ",
"ูู ุชูุถู ุฃู ุชุนูุด ุญูุงุฉ ูุงุฏุฆุฉ ุฃู ูููุฆุฉ ุจุงููุบุงูุฑุงุชุ",
" ูุง ุฃูุซุฑ ุดูุก ูุฒุนุฌู ูู ุงูุขุฎุฑููุ",
" ูู ุชุคูู ุจุงูุตุฏุงูุฉ ุจูู ุงูุฑุฌู ูุงููุฑุฃุฉุ",
"ูุง ูู ุฃูุจุฑ ุชุญุฏู ูุงุฌูุชู ูู ุญูุงุชูุ",
"ูู ุณุจู ูุฃู ุชุนุฑุถุช ูุฎูุงูุฉุ",
" ูู ุฃูุช ูู ุงูููุน ุงูุฐู ูุณุงูุญ ุจุณุฑุนุฉ ุฃู ูุตุนุจ ุนููู ุฐููุ",
"ูุง ุฃูุซุฑ ููุงู ุชูุฏ ุฒูุงุฑุชู ููู ุชุฒุฑูุง ุจุนุฏุ",
"ูู ุชุคูู ุจุงููุฏุฑ ุฃู ุชุฑู ุฃู ุงูุฅูุณุงู ูุตูุน ูุณุชูุจูู ุจููุณูุ",
"ูุง ูู ุงููุญุธุฉ ุงูุชู ุบูุฑุช ุญูุงุชูุ",
" ูู ูุฏูู ุณุฑ ุชูุฏ ูุดุงุฑูุชูุ",
" ูุง ูู ุฃูุซุฑ ุดูุก ุชุฎุดุงู ูู ุงูุญูุงุฉุ",
" ูู ุฃูุช ุฑุงุถู ุนู ููุณู ุงูุขูุ",
" ูุง ูู ุฃุฌูู ูุฏูุฉ ุชูููุชูุงุ",
"ูู ุชูุถู ุงูุนูุด ูู ุงููุฏููุฉ ุฃู ูู ุงูุฑููุ",
"ูู ุณุจู ูุฃู ุชุฑูุช ุตุฏูููุง ุจุณุจุจ ูุดููุฉ ุตุบูุฑุฉุ",
" ูู ุชุนุชูุฏ ุฃู ุงููุงู ูุตูุน ุงูุณุนุงุฏุฉุ",
"ูุง ูู ุฃุณูุฃ ูููู ุชุนุฑุถุช ูู ูู ุงููุฏุฑุณุฉ ุฃู ุงูุนููุ",
" ูู ุชุญุจ ุฃู ุชุฎุทุท ููู ุดูุก ุฃู ุชุชุฑู ุงูุฃููุฑ ุชุฃุฎุฐ ูุฌุฑุงูุงุ",
"ูุง ูู ุฃูุซุฑ ูููุฉ ุชุคููู ุฅุฐุง ุณูุนุชูุงุ",
"ูู ุณุจู ูุฃู ูููุช ูุน ุดุฎุต ูู ูููู ุตุนุจุ",
"ูู ุชูุถู ุฃู ุชููู ูุดููุฑูุง ุฃู ุณุนูุฏูุงุ",
" ูุง ูู ุงูุดูุก ุงูุฐู ูุฌุนูู ุชุดุนุฑ ุจุงูุฃูุงูุ",
" ูู ุชุญุจ ุงูุชุญุฏุซ ุนู ูุดุงููู ูุน ุงูุขุฎุฑููุ",
" ูู ุณุจู ูุฃู ุดุนุฑุช ุจุงูุบูุฑุฉ ูู ูุฌุงุญ ุดุฎุต ูุงุ",
"ูุง ูู ุฃุฌูู ุญูู ุญููุชูุ",
" ูู ุชุคูู ุฃู ุงููุงุณ ุชุชุบูุฑ ููุฃูุถู ุฃู ููุฃุณูุฃุ",
"ูุง ูู ุงูุดูุก ุงูุฐู ุชูุชุฎุฑ ุจู ูู ููุณูุ",
" ูู ุชุญุจ ุงูููุงุฌุขุช ุฃู ุชูุฑููุงุ",
" ูุง ูู ุฃูุซุฑ ุตูุฉ ุชุญุจ ุฃู ุชุฑุงูุง ูู ุดุฑูู ุญูุงุชูุ",
"ูู ุฃูุช ูู ุงูููุน ุงูุฐู ูุญุจ ุงููุฎุงุทุฑุฉุ",
"ูู ุณุจู ูุฃู ุฎุณุฑุช ุดูุฆูุง ุนุฒูุฒูุง ุนูููุ",
" ูู ุชุญุจ ุฃู ุชููู ูุฑูุฒ ุงูุงูุชูุงูุ",
"ูุง ูู ุฃูุซุฑ ุดูุก ุชูุชูุฏู ุงูุขูุ",
"ูู ุชุคูู ุจุงูุญุจ ุงูุญููููุ",
" ูุง ูู ุฃุณูุฃ ูุฐุจุฉ ุณูุนุชูุงุ",
" ูู ุชูุถู ุงูุญูุงุฉ ุงููุงุฏุฆุฉ ุฃู ุงููุซูุฑุฉุ",
" ูุง ูู ุฃูุซุฑ ูููู ุฌุนูู ุชุถุญู ุจุดุฏุฉุ",
"ูู ูุฏูู ุนุงุฏุฉ ุชูุฏ ุงูุชุฎูุต ูููุงุ",
" ูุง ูู ุงูุดูุก ุงูุฐู ูุฌุนูู ุชุจูู ุจุฏูู ุณุจุจ ูุงุถุญุ",
" ูู ุชูุถู ุฃู ุชุนูุด ูุน ุนุงุฆูุชู ุฃู ุจููุฑุฏูุ",
" ูุง ูู ุงูุดูุก ุงูุฐู ุชุญุจู ูู ุฃุตุฏูุงุฆูุ",
" ูู ุณุจู ูุฃู ุฎุณุฑุช ุตุฏูููุง ุนุฒูุฒูุงุ",
"ูู ุชุคูู ุจุงูุตุฏุงูุฉ ุจูู ุงูุฌูุณููุ",
"ูุง ูู ุฃูุซุฑ ูุตูุญุฉ ุฃุนุทูุชู ูููุฉุ",
"ูู ุชุญุจ ุฃู ุชููู ุตุงุฏููุง ุฏุงุฆููุง ุญุชู ูู ุชุณุจุจ ูู ุฌุฑุญ ุงูุขุฎุฑููุ",
"ูู ุฃูุช ุดุฎุต ูุชูุงุฆู ุฃู ูุชุดุงุฆูุ",
"ูุง ูู ุฃูุซุฑ ุดูุก ุชุนููุชู ูู ุชุฌุฑุจุฉ ุตุนุจุฉุ",
" ูู ุชุญุจ ุงูุณูุฑุ ููุง ูู ุฃูุถู ููุงู ุฒุฑุชูุ",
" ูู ุชุฎุงู ูู ุงูุชุบููุฑุ",
" ูู ุชูุถู ุงูุจูุงุก ูู ููุทูุฉ ุงูุฑุงุญุฉ ุฃู ุงููุบุงูุฑุฉุ",
"ูุง ูู ุฃูุซุฑ ุดูุก ูุฌุนูู ุณุนูุฏูุงุ",
" ูู ูุฏูู ุญูู ูู ุชุชุญูู ุจุนุฏุ",
" ูุง ูู ุงูุดูุก ุงูุฐู ุชูุฏ ุชุบููุฑู ูู ุญูุงุชูุ",
" ูู ุณุจู ูุฃู ุฃุฎููุช ูุดุงุนุฑู ุนู ุฃุญุฏุ",
" ูุง ูู ุฃูุซุฑ ุณุฑ ุชุญุชูุธ ุจูุ",
" ูู ุชุญุจ ุฃู ุชุนุจุฑ ุนู ูุดุงุนุฑู ุจุตุฑุงุญุฉุ",
" ูุง ูู ุฃูุซุฑ ูุญุธุฉ ุดุนุฑุช ูููุง ุจุงููุฎุฑุ",
". ูู ุชุญุจ ุงููุฑุงุกุฉุ ููุง ูู ูุชุงุจู ุงูููุถูุ",
" ูู ุฃูุช ุดุฎุต ุงุฌุชูุงุนู ุฃู ุชูุถู ุงููุญุฏุฉุ",
" ูุง ูู ุฃูุซุฑ ุดูุก ูุฌุนูู ุชุบุถุจุ",
"ูู ูุฏูู ุนุงุฏุฉ ุบุฑูุจุฉุ",
"ูู ุชูุถู ุงูุนูู ุถูู ูุฑูู ุฃู ุจููุฑุฏูุ",
" ูุง ูู ุงูุดูุก ุงูุฐู ูุฌุนูู ุชุดุนุฑ ุจุงูุฑุงุญุฉ ุงูููุณูุฉุ",
" ูู ุชูุถู ุงูุตุฑุงุญุฉ ุฃู ุงููุฌุงููุฉุ",
" ูู ุณุจู ูุฃู ุบูุฑุช ูุดุฎุต ุฃูุงููุ",
" ูุง ูู ุฃูุซุฑ ูููู ุฌุนูู ุชุชุนูู ุฏุฑุณูุง ููููุงุ",
"ูู ุชุญุจ ุงูููุงุฌุขุชุ ููุง ูู ุฃูุถู ููุงุฌุฃุฉ ุญุตูุช ุนูููุงุ",
" ูู ุชุคูู ุจุฃู ูู ุดูุก ูุญุฏุซ ูุณุจุจุ",
" ูุง ูู ุงูุดูุก ุงูุฐู ูุง ุชุณุชุทูุน ุงูุนูุด ุจุฏูููุ",
  "ูุง ูู ุงูุดูุก ุงูุฐู ูุง ููููู ุงูุนูุด ุจุฏูููุ"
];

// ููู ูุงุนุจ ูุณุฌู ุงูุฃุณุฆูุฉ ุงููู ุฌุงูุจูุง ูุชุฌูุจ ุงูุชูุฑุงุฑ
let askedQuestions = {};

// ููู ูุงุนุจ ุนุฏุฏ ูุฑุงุช ุงุณุชุฎุฏุงู ุฒุฑ ุงูุนูุณ (ุญุฏ ูุฑุชูู)
let reverseCount = {};

// ุดุงุดุฉ ุงูุจุฏุงูุฉ
function showStartScreen() {
  app.innerHTML = `
    <h1>ูุนุจุฉ ุงูุตุฑุงุญุฉ</h1>
    <button id="nextBtn">ุงูุชุงูู</button>
  `;

  document.getElementById('nextBtn').onclick = () => {
    showPlayerCountScreen();
  };
}

// ุดุงุดุฉ ุงุฎุชูุงุฑ ุนุฏุฏ ุงููุงุนุจูู
function showPlayerCountScreen() {
  app.innerHTML = `
    <h2>ุญุฏุฏ ุนุฏุฏ ุงููุงุนุจูู</h2>
    <div id="playerCountContainer">
      <button id="minusBtn" aria-label="ููุต">-</button>
      <span id="playerCount">1</span>
      <button id="plusBtn" aria-label="ุฒูุงุฏุฉ">+</button>
      <button id="confirmCountBtn" title="ุชุฃููุฏ ุงูุนุฏุฏ">โ๏ธ</button>
    </div>
  `;

  let playerCount = 1;
  const minPlayers = 1;
  const maxPlayers = 10;

  const playerCountSpan = document.getElementById('playerCount');
  const minusBtn = document.getElementById('minusBtn');
  const plusBtn = document.getElementById('plusBtn');
  const confirmCountBtn = document.getElementById('confirmCountBtn');

  function updateCount(newCount) {
    if (newCount < minPlayers) newCount = minPlayers;
    if (newCount > maxPlayers) newCount = maxPlayers;
    playerCount = newCount;
    playerCountSpan.textContent = playerCount;
  }

  minusBtn.onclick = () => updateCount(playerCount - 1);
  plusBtn.onclick = () => updateCount(playerCount + 1);

  confirmCountBtn.onclick = () => {
    showNamesInputScreen(playerCount);
  };
}

// ุดุงุดุฉ ุฅุฏุฎุงู ุฃุณูุงุก ุงููุงุนุจูู
function showNamesInputScreen(count) {
  app.innerHTML = `
    <h2>ุฃุฏุฎู ุฃุณูุงุก ุงููุงุนุจูู (${count})</h2>
    <div id="namesInputs"></div>
    <button id="confirmNamesBtn">โ๏ธ ุชุฃููุฏ ุงูุฃุณูุงุก</button>
  `;

  const namesInputsDiv = document.getElementById('namesInputs');
  for (let i = 1; i <= count; i++) {
    const input = document.createElement('input');
    input.type = 'text';
    input.placeholder = `ุงุณู ุงููุงุนุจ ${i}`;
    input.autocomplete = 'off';
    input.classList.add('nameInput');
    namesInputsDiv.appendChild(input);
  }

  document.getElementById('confirmNamesBtn').onclick = () => {
    const inputs = document.querySelectorAll('.nameInput');
    players = [];
    for (const input of inputs) {
      const val = input.value.trim();
      if (!val) {
        alert('ูุฑุฌู ุฅุฏุฎุงู ุฌููุน ุงูุฃุณูุงุก');
        return;
      }
      players.push(val);
    }
    askedQuestions = {};
    reverseCount = {};
    players.forEach(p => {
      askedQuestions[p] = [];
      reverseCount[p] = 0; // ุตูุฑ ูุฑุงุช ุงุณุชุฎุฏุงู ุงูุนูุณ ูู ุงูุจุฏุงูุฉ
    });
    showGameExplanationScreen();
  };
}

// ุดุงุดุฉ ุดุฑุญ ุงููุนุจุฉ
function showGameExplanationScreen() {
  app.innerHTML = `
    <h2>ุดุฑุญ ุงููุนุจุฉ</h2>
    <p>
      - ูู ูุงุนุจ ูุญุตู ุนูู ุณุคุงู ูุงุญุฏ ูู ุฏูุฑู.<br />
      - ุชุธูุฑ ุงูุฃุณุฆูุฉ ุนุดูุงุฆู ููู ูุงุนุจ ุจุฏูู ุชูุฑุงุฑ.<br />
      - ููููู ุงูุฅุฌุงุจุฉ ุฃู ุงูุชูุฑูุฑ.<br />
      - ููููู ุฅุนุทุงุก ุงูุณุคุงู ูุฃู ูุงุนุจ ุขุฎุฑ ูุฑุชูู ูุญุฏ ุฃูุตู ุจุงุณุชุฎุฏุงู ุฒุฑ ุงูุนูุณ.<br />
      - ุจุนุฏ ุงูุงูุชูุงุก ูู ุงูุฌููุน ุชูุชูู ุงููุนุจุฉ.<br />
    </p>
    <button id="startGameBtn">ุงุจุฏุฃ ุงููุนุจุฉ</button>
  `;

  document.getElementById('startGameBtn').onclick = () => {
    currentPlayerIndex = 0;
    showQuestionScreen();
  };
}

// ุดุงุดุฉ ุนุฑุถ ุงูุณุคุงู
function showQuestionScreen() {
  app.innerHTML = `
    <h2>ุงููุงุนุจ ุงูุญุงูู: ${players[currentPlayerIndex]}</h2>
    <div id="questionBox">ุฌุงุฑู ุชุญููู ุงูุณุคุงู...</div>
    <div id="questionControls">
      <button id="answerBtn">โ ุฌุงูุจ</button>
      <button id="skipBtn">โ ุชูุฑูุฑ</button>
      <button id="reverseBtn">๐ ุนูุณ (${2 - reverseCount[players[currentPlayerIndex]]})</button>
    </div>
    <div id="reverseSelect" style="display:none;"></div>
    <div>ุงูุฃุณุฆูุฉ ุงูุชู ุชู ุงูุฅุฌุงุจุฉ ุนูููุง ูู ูุฐุง ุงููุงุนุจ: <span id="answeredCount"></span></div>
  `;

  const questionBox = document.getElementById('questionBox');
  const reverseSelect = document.getElementById('reverseSelect');
  const answeredCountSpan = document.getElementById('answeredCount');

  const currentPlayer = players[currentPlayerIndex];

  // ููุชุฑุฉ ุงูุฃุณุฆูุฉ ุงููู ูุง ุงุณุชูุฎุฏูุช ูุน ูุฐุง ุงููุงุนุจ
  const availableQuestions = questions.filter(q => !askedQuestions[currentPlayer].includes(q));

  if (availableQuestions.length === 0) {
    alert(`ุงูุชูุช ุฃุณุฆูุฉ ุงููุงุนุจ ${currentPlayer}.`);

    // ุจุนุฏ ูุง ูุฎูุต ุงููุงุนุจุ ููุชูู ููุงุนุจ ุงูุชุงูู
    nextTurn();
    return;
  }

  // ุงุฎุชุฑ ุณุคุงู ุนุดูุงุฆู
  const randomIndex = Math.floor(Math.random() * availableQuestions.length);
  const currentQuestion = availableQuestions[randomIndex];
  questionBox.textContent = currentQuestion;

  answeredCountSpan.textContent = askedQuestions[currentPlayer].length;

  // ุชุญุฏูุซ ุญุงูุฉ ุฒุฑ ุงูุนูุณ (ุฅุฐุง ุงุณุชุนูู 2 ูุฑุงุช ูุฎูู ุงูุฒุฑ)
  const reverseBtn = document.getElementById('reverseBtn');
  if (reverseCount[currentPlayer] >= 2) {
    reverseBtn.disabled = true;
    reverseBtn.style.opacity = 0.5;
  } else {
    reverseBtn.disabled = false;
    reverseBtn.style.opacity = 1;
    reverseBtn.textContent = `๐ ุนูุณ (${2 - reverseCount[currentPlayer]})`;
  }

  // ุฒุฑ ุงูุฌูุงุจ
  document.getElementById('answerBtn').onclick = () => {
    askedQuestions[currentPlayer].push(currentQuestion);
    alert(`ุดูุฑูุง ูู ุนูู ุงูุฅุฌุงุจุฉ!`);
    nextTurn();
  };

  // ุฒุฑ ุงูุชูุฑูุฑ
  document.getElementById('skipBtn').onclick = () => {
    askedQuestions[currentPlayer].push(currentQuestion);
    alert(`ุชู ุชุฎุทู ุงูุณุคุงู.`);
    nextTurn();
  };

  // ุฒุฑ ุงูุนูุณ (ุงุฎุชูุงุฑ ูุงุนุจ ุขุฎุฑ)
  reverseBtn.onclick = () => {
    reverseSelect.style.display = 'block';
    reverseSelect.innerHTML = '';

    players.forEach((player) => {
      if (player !== currentPlayer) {
        const btn = document.createElement('button');
        btn.textContent = player;
        btn.onclick = () => {
          alert(`ุงูุณุคุงู ุงูุนูุณ ุนูู ${player}!`);
          // ุณุฌู ุงูุณุคุงู ุนูุฏ ุงููุงุนุจ ุงูุฌุฏูุฏ
          askedQuestions[player].push(currentQuestion);
          // ุฒูุฏ ุนุฏุฏ ุงุณุชุฎุฏุงู ุงูุนูุณ ููุงุนุจ ุงูุญุงูู
          reverseCount[currentPlayer]++;
          reverseSelect.style.display = 'none';
          nextTurn();
        };
        reverseSelect.appendChild(btn);
      }
    });

    if (reverseSelect.innerHTML === '') {
      reverseSelect.textContent = 'ูุง ููุฌุฏ ูุงุนุจูู ุขุฎุฑูู ููุนูุณ.';
    }
  };
}

// ุงูุชูู ููุฏูุฑ ุงูุชุงูู
function nextTurn() {
  // ุงูุชูู ููุงุนุจ ุงูุชุงูู ุจุดูู ุฏุงุฆุฑู
  currentPlayerIndex++;
  if (currentPlayerIndex >= players.length) currentPlayerIndex = 0;

  // ุชุญูู ุฅุฐุง ุงูุชูุช ูู ุงูุฃุณุฆูุฉ ููู ุงููุงุนุจูู (ุฅุฐุง ุฌููุน ุงููุงุนุจูู ุฃุฌุจูุง ุนูู ูู ุงูุฃุณุฆูุฉ ุฃู ูุง ุนูุฏูู ุฃุณุฆูุฉ)
  const allDone = players.every(p => {
    return askedQuestions[p].length >= questionsPerPlayer || askedQuestions[p].length >= questions.length;
  });

  if (allDone) {
    showGameOverScreen();
  } else {
    showQuestionScreen();
  }
}

// ุดุงุดุฉ ุงูุชูุงุก ุงููุนุจุฉ
function showGameOverScreen() {
  app.innerHTML = `
    <h2>ุงูุชูุช ุงููุนุจุฉ</h2>
    <p>ุดูุฑูุง ููุนุจ! ููููู ุฅุนุงุฏุฉ ุชุดุบูู ุงููุนุจุฉ.</p>
    <button id="restartBtn">ุฅุนุงุฏุฉ ุชุดุบูู</button>
  `;

  document.getElementById('restartBtn').onclick = () => {
    showStartScreen();
  };
}

// ุจุฏุก ุงููุนุจุฉ ุนูุฏ ุชุญููู ุงูุตูุญุฉ
showStartScreen();
